default_install_hook_types: [pre-commit]
default_stages: [pre-commit]
default_language_version:
  python: python3
  node: "20.18.0"  # cspell requires >=20.18; full version needed for nodeenv prebuilt download

repos:
  - repo: https://github.com/asottile/pyupgrade
    rev: v3.15.0 
    hooks:
      - id: pyupgrade
        args: [--py310-plus] 
        
  - repo: https://github.com/pycqa/isort
    rev: 5.13.2
    hooks:
      - id: isort
        args: ["--profile", "black", "--filter-files"]

  - repo: https://github.com/psf/black
    rev: 24.1.1
    hooks:
      - id: black
        language_version: python3
        args: [--line-length=88, --preview]

  - repo: https://github.com/charliermarsh/ruff-pre-commit
    rev: v0.0.272
    hooks:
      - id: ruff
        # Ignoring unused imports within __init__.py files.
        args: [--per-file-ignores, "*__init__.py:F401", --fix]

  - repo: https://github.com/pycqa/pydocstyle
    rev: 6.3.0
    hooks:
      - id: pydocstyle
        files: neuracore/
        args: ["--convention=google"]

  - repo: https://github.com/pre-commit/mirrors-mypy
    rev: v1.18.2
    hooks:
      - id: mypy
        files: neuracore/
        args: ["--disallow-untyped-defs", "--ignore-missing-imports"]
        additional_dependencies: [types-requests, types-PyYAML, types-aiofiles]
        
  - repo: https://github.com/streetsidesoftware/cspell-cli
    rev: v9.2.0
    hooks:
      - id: cspell # Spell check changed files
      - id: cspell # Spell check the commit message
        name: check commit message spelling
        args:
          - --no-must-find-files
          - --no-progress
          - --no-summary
          - --files
          - .git/COMMIT_EDITMSG
        stages: [commit-msg]
        always_run: true
