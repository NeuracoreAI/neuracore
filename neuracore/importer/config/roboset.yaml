input_dataset_name: roboset_dataset
dataset_type: RLDS

output_dataset:
  name: RoboSet
  tags: [kitchen, real-world, multi-task, teleoperation, manipulation]
  description: "Large-scale real-world dataset (30,050 trajectories, incl. 9,500 teleoperated via Oculus Quest 2 and kinesthetic demos) of everyday kitchen activities: 12 skills over 38 tasks in seven activity categories (Baking Prep, Clean Kitchen, Heat Soup, Make Tea, Make Toast, Serve Soup, Stow Bowl), with four camera views per frame, scene variations, and language-defined task instructions."

robot: 
  name: franka_panda
  urdf_path: "franka_panda.urdf"
  override_existing: true

frequency: 5.0

data_import_config:
  RGB_IMAGES:
    source: observation
    format:
      image_convention: CHANNELS_LAST
      order_of_channels: RGB
    mapping: 
      - name: image_left
        source_name: image_left
      - name: image_right
        source_name: image_right
      - name: image_top
        source_name: image_top
      - name: image_wrist
        source_name: image_wrist

  JOINT_POSITIONS: 
    source: observation.state
    mapping:
      - name: panda_joint1
      - name: panda_joint2
      - name: panda_joint3
      - name: panda_joint4
      - name: panda_joint5
      - name: panda_joint6
        offset: 1.5707963267948966
      - name: panda_joint7
        offset: 0.7853981633974483
  
  # Target joint positions are delta
  # JOINT_TARGET_POSITIONS:
  #   source: action
  #   mapping:
  #     - name: panda_joint1
  #     - name: panda_joint2
  #     - name: panda_joint3
  #     - name: panda_joint4
  #     - name: panda_joint5
  #     - name: panda_joint6
  #     - name: panda_joint7
  
  JOINT_VELOCITIES:
    source: observation.state_velocity
    mapping:
      - name: panda_joint1
      - name: panda_joint2
      - name: panda_joint3
      - name: panda_joint4
      - name: panda_joint5
      - name: panda_joint6
      - name: panda_joint7

  PARALLEL_GRIPPER_OPEN_AMOUNTS:
    source: observation.state
    format:
      invert_gripper_amount: true
    mapping:
      - name: gripper
        index: 7
  
  PARALLEL_GRIPPER_TARGET_OPEN_AMOUNTS:
    source: action
    format:
      invert_gripper_amount: true
    mapping:
      - name: gripper
        index: 7

  VISUAL_JOINT_POSITIONS:
    source: observation.state
    format:
      visual_joint_type: GRIPPER
      invert_gripper_amount: true
    mapping:
      - name: panda_finger_joint1
        index: 7
      - name: panda_finger_joint2
        index: 7

  LANGUAGE:
    format:
      language_type: BYTES
    mapping:
      - name: instruction
        source_name: language_instruction